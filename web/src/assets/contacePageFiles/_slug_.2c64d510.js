import{_ as w}from"./Product.a4206206.js";import{_ as $,b as S}from"./Landing.df64328f.js";import{u as h,s as C,_ as x}from"./useHeadSeo.d3db824e.js";import{f as B,h as g,w as N,g as A,d as t,o as a,i as r,j as D,m as f,s as b,P as E,L,c as F,F as G}from"./entry.b64d388a.js";import{b as R}from"./usePageTransition.c85436b5.js";import{u as y}from"./usePreviewToken.81b6aab9.js";import{u as T}from"./useErrorPage.23109362.js";import"./Footer.e6485fe5.js";import"./Blocks.44438b3b.js";import"./BlockTimedTabs.vue.d0651cc9.js";import"./Listing.a298d72a.js";import"./slugify.3ca60c52.js";import"./useResourceIndexData.dc2ced4d.js";/* empty css                   */import"./List.4457a9db.js";import"./usePageLoading.6c7406d2.js";import"./lang.4a9029fb.js";const se={__name:"[slug]",async setup(j){var l,c;let o,m;const n=B();g();const{$api:i}=g(),{data:e,error:p,pending:P}=([o,m]=N(()=>R(`product-or-landing-${n.params.slug}`,async()=>Promise.all([i.productBySlug({slug:n.params.slug,preview:y().value}),i.landingBySlug({slug:n.params.slug,preview:y().value})]).then(([_,d])=>{const s=_||d,u=s&&s.nestedSlug&&s.nestedSlug.includes("/");return(!s||u)&&b({statusCode:404,message:"Page not found"}),s}))),o=await o,m(),o);return T({data:e,error:p}),h({title:(l=e==null?void 0:e.value)==null?void 0:l.title,seo:(c=e==null?void 0:e.value)==null?void 0:c.seo}),A(()=>{C(e==null?void 0:e.value)}),(_,d)=>{const s=w,u=$,k=S,v=x;return!t(p)&&!t(P)?(a(),r(v,{key:0,id:`${t(e).type}-${t(e).slug}`},{default:D(()=>[t(e).type===E?(a(),r(s,{key:0,data:t(e)},null,8,["data"])):t(e).type===L?(a(),F(G,{key:1},[t(e).template==="detail"?(a(),r(u,{key:0,data:t(e)},null,8,["data"])):(a(),r(k,{key:1,data:t(e)},null,8,["data"]))],64)):f("",!0)]),_:1},8,["id"])):f("",!0)}}};export{se as default};
