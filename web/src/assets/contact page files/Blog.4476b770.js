import{a as D,_ as E}from"./indexComponents.44e4cc59.js";import{_ as L}from"./Listing.a298d72a.js";import{a as y,u as A,_ as O}from"./useResourceIndexData.dc2ced4d.js";import{h as w,B as z,y as G,o as a,c as N,a as c,d as e,i as M,m as T,Q as V}from"./entry.b64d388a.js";const Z={__name:"Blog",props:{filters:{type:Object,default:{}},search:String},setup(i){const r=i,{$api:u,$helpers:m}=w(),p=A(),{indexFilters:_,setIndexFilters:g}=y();g((r==null?void 0:r.filters)??{},{default:"blogDetailsCount"});const{data:s,pending:d,selectedFilters:f,setSelectedFilter:x,clearSelectedFilters:S,onSubmit:b,sort:F,sorts:h,setSort:P,page:t,setCurrentPage:k,currentPage:$}=p({name:"blog",fetchCallback:u.indexBlogDetails,fetchCallbackOptions:{pageSize:D[z]}}),v=G(()=>{var l,o;return((l=s==null?void 0:s.value)==null?void 0:l.resources)&&m.cards((o=s==null?void 0:s.value)==null?void 0:o.resources)});return(l,o)=>{var n;const B=E,C=L,I=O;return a(),N("form",{ref:"form",onSubmit:o[0]||(o[0]=V(()=>{},["prevent"]))},[c(B,{selected:e(f),setSelected:e(x),clearSelected:e(S),allFilters:e(_),"on-submit":e(b),sorts:e(h),"set-sort":e(P),sort:e(F),showing:e(t)?Math.min(e(t).perPage,e(t).total):0,"total-results":(n=e(t))==null?void 0:n.total,"data-index-scroll-element":""},null,8,["selected","setSelected","clearSelected","allFilters","on-submit","sorts","set-sort","sort","showing","total-results"]),c(C,{blockLink:!0,items:e(v),listOnly:!0,pending:e(d)},null,8,["items","pending"]),e(t)&&e(t).total?(a(),M(I,{key:0,"total-results":e(t).total,"current-page":e(t).currentPage,"from-value":e(t).from,pages:e(t).lastPage,"size-value":e(t).perPage,onPageChange:e(k)},null,8,["total-results","current-page","from-value","pages","size-value","onPageChange"])):T("",!0)],544)}}};export{Z as _};
