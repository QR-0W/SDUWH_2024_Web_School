# 家教管理模块开发文档 V1.2

<div class="cover" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; text-align: center; font-family: '仿宋';">
    <div style="width: 80%; height: 0; padding-bottom: 25%;">
        <img src="./assets/校名.png" alt="校名" style="width: 80%; display: block; margin: 0 auto;"/>
    </div>
    </br>
    <div style="margin-top: 2rem; width: 40%; height: 0; padding-bottom: 40%;">
        <img src="./assets/校徽.png" alt="校徽" style="width: 60%; display: block; margin: 0 auto;"/>
	</div>
    <p style="font-size: 24pt; margin-top: 2rem;">家教管理模块开发文档&emsp;&emsp;</p>
    <p style="font-size: 24pt; margin-top: 1rem;">&emsp;&emsp;</p>
    <table style="border:none; width: 80%; font-family: '仿宋'; margin-top: 2rem;">
    <tbody style="font-size: 16pt;">
    	<tr style="font-weight:bold;"> 
    		<td style="width: 25%; text-align:right;">课程名称</td>
    		<td style="width: 5%;">：</td> 
    		<td style="font-weight:normal; border-bottom: 2px solid; text-align:center;">项目实训</td>     </tr>
        <tr style="font-weight:bold;"> 
    		<td style="width: 25%; text-align:right;">姓&emsp;&emsp;名</td>
    		<td style="width: 5%;">：</td> 
    		<td style="font-weight:normal; border-bottom: 2px solid; text-align:center;"></td>     </tr>
    	<tr style="font-weight:bold;"> 
    		<td style="width: 25%; text-align:right;">学&emsp;&emsp;号</td>
    		<td style="width: 5%;">：</td> 
    		<td style="font-weight:normal; border-bottom: 2px solid; text-align:center;"></td>     </tr>
        <tr style="font-weight:bold;"> 
    		<td style="width: 25%; text-align:right;">专业班级</td>
    		<td style="width: 5%;">：</td> 
    		<td style="font-weight:normal; border-bottom: 2px solid; text-align:center;">21软件工程1班</td>     </tr>
    	<tr style="font-weight:bold;"> 
    		<td style="width: 25%; text-align:right;">授课教师</td>
    		<td style="width: 5%;">：</td> 
    		<td style="font-weight:normal; border-bottom: 2px solid; text-align:center;">张亚峰</td>     </tr>
    </tbody>              
    </table>
    <p style="margin-top: 2rem;">2024 年 7 月 11 日</p>
</div>

------

[TOC]



------

# 家教管理模块开发文档


## 概述

​	该组件使用了Vue.js框架，结合`ant-design-vue`组件库，确保界面的美观性和一致性。通过该组件，管理员可以轻松地管理教师的基本信息，包括教师的姓名、分类、标签、封面图片、简介、价格、手机号、年龄、性别、所在地区和状态等。

## 功能列表

> - **教师信息展示**：在表格中显示教师的基本信息，包括姓名、价格、性别、年龄、地区、简介和状态等。
> - **搜索功能**：通过关键词搜索教师信息，支持模糊搜索，快速找到所需的教师。
> - **新增教师**：通过弹窗表单，管理员可以新增教师信息，填写相关字段并提交。
> - **编辑教师**：通过表格中的编辑按钮，管理员可以打开弹窗表单，编辑现有教师的信息。
> - **删除教师**：支持单个删除和批量删除操作，确保教师信息的及时更新。
> - **图片上传**：支持上传教师封面图片，并预览上传的图片。
>
> ###  详细功能描述
>
> - **教师信息展示**：
>
>   > - 使用`ant-design-vue`的`a-table`组件，实现教师信息的展示。
>   > - 表格中包括教师的序号、姓名、价格、性别、年龄、地区、简介和状态等信息。
>   > - 提供编辑和删除操作按钮。
>
> - **搜索功能**：
>
>   > - 使用输入框输入关键词，实时更新搜索结果。
>   > - 通过`listApi`接口获取符合搜索条件的教师数据，并更新表格展示。
>
> - **新增教师**：
>
>   > - 点击新增按钮，弹出包含各项教师信息字段的表单。
>   > - 表单字段包括教师的姓名、分类、标签、封面、简介、价格、手机号、年龄、性别、所在地区和状态等。
>   > - 支持封面图片的上传和预览。
>
> - **编辑教师**：
>
>   > - 点击表格中的编辑按钮，弹出包含现有教师信息的表单。
>   > - 可以编辑教师的各项信息，并保存修改。
>
> - **删除教师**：
>
>   > - 支持单个删除，通过表格中的删除按钮删除指定教师。
>   > - 支持批量删除，通过勾选表格中的多条记录，并点击批量删除按钮进行删除。
>
> - **图片上传**：
>
>   > - 使用`Upload`组件实现封面图片的上传。
>   > - 支持图片预览功能，方便管理员查看上传的图片。

## 技术栈

> - **Vue 3**
> - **TypeScript**
> - **Ant Design Vue**
>
> ### 主要技术细节
>
> > - **Vue.js**：作为前端框架，负责组件的声明和数据绑定。
> > - **ant-design-vue**：作为UI组件库，提供了表格、表单、弹窗等常用组件，确保界面的一致性和美观性。
> > - **API接口**：通过与后端API的交互，实现数据的增删改查。主要接口包括`listApi`、`createApi`、`updateApi`、`deleteApi`、`listClassificationApi`和`listTagApi`。
> > - **文件上传**：使用`Upload`组件实现图片文件的上传，并通过`BASE_URL`配置文件路径，实现图片的存储和展示。

## 目录结构

``````plaintext
src/
├── api/
│   ├── thing.ts  # 教师相关API
│   ├── classification.ts  # 分类相关API
│   └── tag.ts  # 标签相关API
├── components/
│   ├── thing.vue  # 教师管理组件
└── store/
    └── constants.ts  # 常量文件
``````



## 关系图

![D:\mango\server\things.vue关系图](D:\mango\thing.vue关系图.png)



## 代码详情

> ### 模板部分
>
> - 包含数据表格，支持新增、编辑、删除和搜索功能。
> - 弹窗用于数据的详细编辑与添加。
> - 使用Ant Design Vue组件库进行UI构建。
>
> ``````java
> <template>
> <div>
>  <!-- 页面区域 -->
>  <div class="page-view">
>    <div class="table-operations">
>      <a-space>
>        <a-button type="primary" @click="handleAdd">新增</a-button>
>        <a-button @click="handleBatchDelete">批量删除</a-button>
>        <a-input-search addon-before="名称" enter-button @search="onSearch" @change="onSearchChange" />
>      </a-space>
>    </div>
>    <a-table
>      size="middle"
>      rowKey="id"
>      :loading="data.loading"
>      :columns="columns"
>      :data-source="data.dataList"
>      :scroll="{ x: 'max-content' }"
>      :row-selection="rowSelection"
>      :pagination="{
>        size: 'default',
>        current: data.page,
>        pageSize: data.pageSize,
>        onChange: (current) => (data.page = current),
>        showSizeChanger: false,
>        showTotal: (total) => `共${total}条数据`,
>      }"
>    >
>      <template #bodyCell="{ text, record, index, column }">
>        <template v-if="column.key === 'operation'">
>          <span>
>            <a @click="handleEdit(record)">编辑</a>
>            <a-divider type="vertical" />
>            <a-popconfirm title="确定删除?" ok-text="是" cancel-text="否" @confirm="confirmDelete(record)">
>              <a href="#">删除</a>
>            </a-popconfirm>
>          </span>
>        </template>
>      </template>
>    </a-table>
>  </div>
> 
>  <!-- 弹窗区域 -->
>  <div>
>    <a-modal
>      :visible="modal.visible"
>      :forceRender="true"
>      :title="modal.title"
>      width="880px"
>      ok-text="确认"
>      cancel-text="取消"
>      @cancel="handleCancel"
>      @ok="handleOk"
>    >
>      <div>
>        <a-form ref="myform" :label-col="{ style: { width: '80px' } }" :model="modal.form" :rules="modal.rules">
>          <a-row :gutter="24">
>            <a-col span="24">
>              <a-form-item label="家教姓名" name="title">
>                <a-input placeholder="请输入" v-model:value="modal.form.title" />
>              </a-form-item>
>            </a-col>
>            <a-col span="12">
>              <a-form-item label="分类" name="classificationId">
>                <a-select
>                  placeholder="请选择"
>                  allowClear
>                  :options="modal.cData"
>                  :field-names="{ label: 'title', value: 'id' }"
>                  v-model:value="modal.form.classificationId"
>                />
>              </a-form-item>
>            </a-col>
>            <a-col span="12">
>              <a-form-item label="标签">
>                <a-select mode="multiple" placeholder="请选择" allowClear v-model:value="modal.form.tags">
>                  <template v-for="item in modal.tagData">
>                    <a-select-option :value="item.id">{{ item.title }}</a-select-option>
>                  </template>
>                </a-select>
>              </a-form-item>
>            </a-col>
>            <a-col span="24">
>              <a-form-item label="封面">
>                <a-upload-dragger
>                  name="file"
>                  accept="image/*"
>                  :multiple="false"
>                  :before-upload="beforeUpload"
>                  v-model:file-list="fileList"
>                >
>                  <p class="ant-upload-drag-icon">
>                    <template v-if="modal.form.coverUrl">
>                      <img :src="modal.form.coverUrl" style="width: 60px; height: 80px" />
>                    </template>
>                    <template v-else>
>                      <file-image-outlined />
>                    </template>
>                  </p>
>                  <p class="ant-upload-text"> 请选择要上传的封面图片 </p>
>                </a-upload-dragger>
>              </a-form-item>
>            </a-col>
> 
>            <a-col span="24">
>              <a-form-item label="家教简介">
>                <a-textarea placeholder="请输入" v-model:value="modal.form.description" />
>              </a-form-item>
>            </a-col>
>            <a-col span="12">
>              <a-form-item label="小时价格" name="price">
>                <a-input-number placeholder="请输入" :min="0" v-model:value="modal.form.price" style="width: 100%" />
>              </a-form-item>
>            </a-col>
>            <a-col span="12">
>              <a-form-item label="手机号">
>                <a-input-number placeholder="请输入" :min="0" v-model:value="modal.form.mobile" style="width: 100%" />
>              </a-form-item>
>            </a-col>
>            <a-col span="12">
>              <a-form-item label="年龄">
>                <a-input-number placeholder="请输入" :min="0" v-model:value="modal.form.age" style="width: 100%" />
>              </a-form-item>
>            </a-col>
>            <a-col span="12">
>              <a-form-item label="性别">
>                <a-input placeholder="请输入" v-model:value="modal.form.sex" style="width: 100%" />
>              </a-form-item>
>            </a-col>
>            <a-col span="12">
>              <a-form-item label="所在地区">
>                <a-input placeholder="请输入" v-model:value="modal.form.location" style="width: 100%" />
>              </a-form-item>
>            </a-col>
>            <a-col span="12">
>              <a-form-item label="状态" name="status">
>                <a-select placeholder="请选择" allowClear v-model:value="modal.form.status">
>                  <a-select-option key="0" value="0">上架</a-select-option>
>                  <a-select-option key="1" value="1">下架</a-select-option>
>                </a-select>
>              </a-form-item>
>            </a-col>
>          </a-row>
>        </a-form>
>      </div>
>    </a-modal>
>  </div>
> </div>
> </template>
> ``````
>
> ### 脚本部分
>
> - getDataList、getCDataList、getTagDataList分别从不同的API获取数据。
> - handleAdd、handleEdit、confirmDelete、handleBatchDelete负责物品的增删改操作。
> - handleOk验证并提交表单数据到服务器。
> - resetModal、hideModal重置并关闭物品管理模态框。
>
> ``````java
> <script setup lang="ts">
> import { FormInstance, message, SelectProps } from 'ant-design-vue';
> import { createApi, listApi, updateApi, deleteApi } from '/@/api/thing';
> import { listApi as listClassificationApi } from '/@/api/classification';
> import { listApi as listTagApi } from '/@/api/tag';
> import { BASE_URL } from '/@/store/constants';
> import { FileImageOutlined } from '@ant-design/icons-vue';
> 
> const columns = reactive([
>  {
>    title: '序号',
>    dataIndex: 'index',
>    key: 'index',
>    width: 60,
>  },
>  {
>    title: '姓名',
>    dataIndex: 'title',
>    key: 'title',
>  },
>  {
>    title: '价格',
>    dataIndex: 'price',
>    key: 'price',
>  },
>  {
>    title: '性别',
>    dataIndex: 'sex',
>    key: 'sex',
>  },
>  {
>    title: '年龄',
>    dataIndex: 'age',
>    key: 'age',
>  },
>  {
>    title: '地区',
>    dataIndex: 'location',
>    key: 'location',
>  },
>  {
>    title: '简介',
>    dataIndex: 'description',
>    key: 'description',
>    customRender: ({ text, record, index, column }) => (text ? text.substring(0, 10) + '...' : '--'),
>  },
>  {
>    title: '状态',
>    dataIndex: 'status',
>    key: 'status',
>    customRender: ({ text, record, index, column }) => (text === '0' ? '上架' : '下架'),
>  },
>  {
>    title: '操作',
>    dataIndex: 'action',
>    key: 'operation',
>    align: 'center',
>    fixed: 'right',
>    width: 140,
>  },
> ]);
> 
> const beforeUpload = (file: File) => {
>  // 改文件名
>  const fileName = new Date().getTime().toString() + '.' + file.type.substring(6);
>  const copyFile = new File([file], fileName);
>  console.log(copyFile);
>  modal.form.imageFile = copyFile;
>  return false;
> };
> 
> // 文件列表
> const fileList = ref<any[]>([]);
> 
> // 页面数据
> const data = reactive({
>  dataList: [],
>  loading: false,
>  keyword: '',
>  selectedRowKeys: [] as any[],
>  pageSize: 10,
>  page: 1,
> });
> 
> // 弹窗数据源
> const modal = reactive({
>  visible: false,
>  editFlag: false,
>  title: '',
>  cData: [],
>  tagData: [{}],
>  form: {
>    id: undefined,
>    title: undefined,
>    classificationId: undefined,
>    tags: [],
>    repertory: undefined,
>    price: undefined,
>    mobile: undefined,
>    age: undefined,
>    sex: undefined,
>    location: undefined,
>    status: undefined,
>    cover: undefined,
>    coverUrl: undefined,
>    imageFile: undefined,
>  },
>  rules: {
>    title: [{ required: true, message: '请输入名称', trigger: 'change' }],
>    classificationId: [{ required: true, message: '请选择分类', trigger: 'change' }],
>    price: [{ required: true, message: '请输入定价', trigger: 'change' }],
>    status: [{ required: true, message: '请选择状态', trigger: 'change' }],
>  },
> });
> 
> const myform = ref<FormInstance>();
> 
> onMounted(() => {
>  getDataList();
>  getCDataList();
>  getTagDataList();
> });
> 
> const getDataList = () => {
>  data.loading = true;
>  listApi({
>    keyword: data.keyword,
>  })
>    .then((res) => {
>      data.loading = false;
>      console.log(res);
>      res.data.forEach((item: any, index: any) => {
>        item.index = index + 1;
>        item.price = item.price + '元/时';
>      });
>      data.dataList = res.data;
>    })
>    .catch((err) => {
>      data.loading = false;
>      console.log(err);
>    });
> };
> 
> const getCDataList = () => {
>  listClassificationApi({}).then((res) => {
>    modal.cData = res.data;
>  });
> };
> const getTagDataList = () => {
>  listTagApi({}).then((res) => {
>    res.data.forEach((item, index) => {
>      item.index = index + 1;
>    });
>    modal.tagData = res.data;
>  });
> };
> 
> const onSearchChange = (e: Event) => {
>  data.keyword = e?.target?.value;
>  console.log(data.keyword);
> };
> 
> const onSearch = () => {
>  getDataList();
> };
> 
> const rowSelection = ref({
>  onChange: (selectedRowKeys: (string | number)[], selectedRows: DataItem[]) => {
>    console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);
>    data.selectedRowKeys = selectedRowKeys;
>  },
> });
> 
> const handleAdd = () => {
>  resetModal();
>  modal.visible = true;
>  modal.editFlag = false;
>  modal.title = '新增';
>  // 重置
>  for (const key in modal.form) {
>    modal.form[key] = undefined;
>  }
>  modal.form.cover = undefined;
> };
> const handleEdit = (record: any) => {
>  resetModal();
>  modal.visible = true;
>  modal.editFlag = true;
>  modal.title = '编辑';
>  // 重置
>  for (const key in modal.form) {
>    modal.form[key] = undefined;
>  }
>  for (const key in record) {
>    if (record[key]) {
>      modal.form[key] = record[key];
>    }
>  }
>  if (modal.form.cover) {
>    modal.form.coverUrl = BASE_URL + '/api/staticfiles/image/' + modal.form.cover;
>    modal.form.cover = undefined;
>  }
> };
> 
> const confirmDelete = (record: any) => {
>  console.log('delete', record);
>  deleteApi({ ids: record.id })
>    .then((res) => {
>      getDataList();
>    })
>    .catch((err) => {
>      message.error(err.msg || '操作失败');
>    });
> };
> 
> const handleBatchDelete = () => {
>  console.log(data.selectedRowKeys);
>  if (data.selectedRowKeys.length <= 0) {
>    console.log('hello');
>    message.warn('请勾选删除项');
>    return;
>  }
>  deleteApi({ ids: data.selectedRowKeys.join(',') })
>    .then((res) => {
>      message.success('删除成功');
>      data.selectedRowKeys = [];
>      getDataList();
>    })
>    .catch((err) => {
>      message.error(err.msg || '操作失败');
>    });
> };
> 
> const handleOk = () => {
>  myform.value
>    ?.validate()
>    .then(() => {
>      const formData = new FormData();
>      if (modal.editFlag) {
>        formData.append('id', modal.form.id);
>      }
>      formData.append('title', modal.form.title);
>      if (modal.form.classificationId) {
>        formData.append('classificationId', modal.form.classificationId);
>      }
>      if (modal.form.tags) {
>        modal.form.tags.forEach(function (value) {
>          if (value) {
>            formData.append('tags[]', value);
>          }
>        });
>      }
>      if (modal.form.imageFile) {
>        formData.append('imageFile', modal.form.imageFile);
>      }
>      formData.append('description', modal.form.description || '');
>      formData.append('price', modal.form.price || '');
>      if (modal.form.mobile) {
>        formData.append('mobile', modal.form.mobile);
>      }
>      if (modal.form.age) {
>        formData.append('age', modal.form.age);
>      }
>      if (modal.form.sex) {
>        formData.append('sex', modal.form.sex);
>      }
>      if (modal.form.location) {
>        formData.append('location', modal.form.location);
>      }
>      if (modal.form.description) {
>        formData.append('description', modal.form.description);
>      }
>      if (modal.form.status) {
>        formData.append('status', modal.form.status);
>      }
>      if (modal.editFlag) {
>        updateApi(formData)
>          .then((res) => {
>            hideModal();
>            getDataList();
>          })
>          .catch((err) => {
>            console.log(err);
>            message.error(err.msg || '操作失败');
>          });
>      } else {
>        createApi(formData)
>          .then((res) => {
>            hideModal();
>            getDataList();
>          })
>          .catch((err) => {
>            console.log(err);
>            message.error(err.msg || '操作失败');
>          });
>      }
>    })
>    .catch((err) => {
>      console.log('不能为空');
>    });
> };
> 
> const handleCancel = () => {
>  hideModal();
> };
> 
> // 恢复表单初始状态
> const resetModal = () => {
>  myform.value?.resetFields();
>  fileList.value = [];
> };
> 
> // 关闭弹窗
> const hideModal = () => {
>  modal.visible = false;
> };
> </script>
> ``````
>
> ### 样式部分
>
> - .page-view：设置了页面视图的样式，包括最小高度、背景色、内边距、显示方式和主轴方向。
> - .table-operations：设置了表格操作区域的样式，包括底部边距和文本对齐方式。
> - .table-operations > button：设置了表格操作区域中按钮的样式，包括右边距。
>
> ```` java
> <style scoped lang="less">
> .page-view {
>  min-height: 100%;
>  background: #fff;
>  padding: 24px;
>  display: flex;
>  flex-direction: column;
> }
> 
> .table-operations {
>  margin-bottom: 16px;
>  text-align: right;
> }
> 
> .table-operations > button {
>  margin-right: 8px;
> }
> </style>```
> ````
>
> ## controller部分
>
> > ### ThingController
> >
> > #### 接口说明
> >
> > - ##### 查询物品列表接口
> >
> >   - **URL**: `/thing/list`
> >   - **方法**: GET
> >   - **参数**: `String keyword`、`String sort`、`String c`、`String tag`
> >   - **响应**: 物品列表
> >
> >   ##### 查询物品详情接口
> >
> >   - **URL**: `/thing/detail`
> >   - **方法**: GET
> >   - **参数**: `String id`（物品ID）
> >   - **响应**: 物品详情
> >
> >   ##### 创建物品接口
> >
> >   - **URL**: `/thing/create`
> >   - **方法**: POST
> >   - **权限**: 管理员
> >   - **参数**: `Thing thing`（物品实体）
> >   - **响应**: 创建成功提示
> >   - **事务**: 确保创建操作的原子性
> >
> >   ##### 删除物品接口
> >
> >   - **URL**: `/thing/delete`
> >   - **方法**: POST
> >   - **权限**: 管理员
> >   - **参数**: `String ids`（物品ID列表）
> >   - **响应**: 删除成功提示
> >
> >   ##### 更新物品接口
> >
> >   - **URL**: `/thing/update`
> >   - **方法**: POST
> >   - **权限**: 管理员
> >   - **参数**: `Thing thing`（物品实体）
> >   - **响应**: 更新成功提示
> >   - **事务**: 确保更新操作的原子性
> >
> >   ##### 查询用户物品列表接口
> >
> >   - **URL**: `/thing/listUserThing`
> >   - **方法**: GET
> >   - **参数**: `String userId`（用户ID）
> >   - **响应**: 用户物品列表
> >
> > #### 代码
> >
> > ``` java
> > @RestController
> > @RequestMapping("/thing")
> > public class ThingController {
> >     @Autowired
> >     ThingService service;
> > 
> >     @Value("${File.uploadPath}")
> >     private String uploadPath;
> > 
> >     @RequestMapping(value = "/list", method = RequestMethod.GET)
> >     public APIResponse list(String keyword, String sort, String c, String tag) {
> >         List<Thing> list = service.getThingList(keyword, sort, c, tag);
> >         return new APIResponse(ResponeCode.SUCCESS, "查询成功", list);
> >     }
> > 
> >     @RequestMapping(value = "/detail", method = RequestMethod.GET)
> >     public APIResponse detail(String id) {
> >         Thing thing = service.getThingById(id);
> >         return new APIResponse(ResponeCode.SUCCESS, "查询成功", thing);
> >     }
> > 
> >     @Access(level = AccessLevel.ADMIN)
> >     @RequestMapping(value = "/create", method = RequestMethod.POST)
> >     @Transactional
> >     public APIResponse create(Thing thing) throws IOException {
> >         String url = saveThing(thing);
> >         if (!StringUtils.isEmpty(url)) {
> >             thing.cover = url;
> >         }
> >         service.createThing(thing);
> >         return new APIResponse(ResponeCode.SUCCESS, "创建成功");
> >     }
> > 
> >     @Access(level = AccessLevel.ADMIN)
> >     @RequestMapping(value = "/delete", method = RequestMethod.POST)
> >     public APIResponse delete(String ids) {
> >         String[] arr = ids.split(",");
> >         for (String id : arr) {
> >             service.deleteThing(id);
> >         }
> >         return new APIResponse(ResponeCode.SUCCESS, "删除成功");
> >     }
> > 
> >     @Access(level = AccessLevel.ADMIN)
> >     @RequestMapping(value = "/update", method = RequestMethod.POST)
> >     @Transactional
> >     public APIResponse update(Thing thing) throws IOException {
> >         String url = saveThing(thing);
> >         if (!StringUtils.isEmpty(url)) {
> >             thing.cover = url;
> >         }
> >         service.updateThing(thing);
> >         return new APIResponse(ResponeCode.SUCCESS, "更新成功");
> >     }
> > 
> >     @RequestMapping(value = "/listUserThing", method = RequestMethod.GET)
> >     public APIResponse listUserThing(String userId) {
> >         List<Thing> list = service.getUserThing(userId);
> >         return new APIResponse(ResponeCode.SUCCESS, "查询成功", list);
> >     }
> > 
> >     private String saveThing(Thing thing) throws IOException {
> >         MultipartFile file = thing.getImageFile();
> >         String newFileName = null;
> >         if (file != null && !file.isEmpty()) {
> >             String oldFileName = file.getOriginalFilename();
> >             String randomStr = UUID.randomUUID().toString();
> >             newFileName = randomStr + oldFileName.substring(oldFileName.lastIndexOf("."));
> >             String filePath = uploadPath + File.separator + "image" + File.separator + newFileName;
> >             File destFile = new File(filePath);
> >             if (!destFile.getParentFile().exists()) {
> >                 destFile.getParentFile().mkdirs();
> >             }
> >             file.transferTo(destFile);
> >         }
> >         if (!StringUtils.isEmpty(newFileName)) {
> >             thing.cover = newFileName;
> >         }
> >         return newFileName;
> >     }
> > }
> > ```
> >
> > #### 关系图
> >
> > ![](D:\mango\ThingController关系图.png)
> >
> > #### 其他略
>
> 

## 组件说明

> ### 家教管理表格
>
> ​	表格用于显示教师的基本信息，包括序号、姓名、价格、性别、年龄、地区、简介和状态。提供编辑和删除操作按钮。
>
> ## 弹窗表格
>
> ​	用于新增和编辑教师信息的弹窗表单，包含教师的姓名、分类、标签、封面、简介、价格、手机号、年龄、性别、所在地区和状态等字段。

## 主要方法

> - **getDataList：获取教师列表数据。**
> - **getCDataList：获取分类列表数据。**
> - **getTagDataList：获取标签列表数据。**
> - **onSearchChange：更新搜索关键字。**
> - **onSearch：执行搜索操作。**
> - **handleAdd：打开新增教师弹窗。**
> - **handleEdit：打开编辑教师弹窗，并填充表单数据。**
> - **confirmDelete：确认删除教师信息。**
> - **handleBatchDelete：批量删除教师信息。**
> - **handleOk：确认弹窗表单的操作（新增或编辑）。**
> - **handleCancel：取消弹窗操作。**
> - **resetModal：重置表单和文件列表。**
> - **hideModal：隐藏弹窗。**

## API说明

> - **listApi：获取教师列表数据的API。**
> - **createApi：创建新教师的API。**
> - **updateApi：更新教师信息的API。**
> - **deleteApi：删除教师信息的API。**
> - **listClassificationApi：获取分类列表的API。**
> - **listTagApi：获取标签列表的API。**

## 使用指南

> ### 引入组件
>
> ``````java
> import TeacherManagement from '/@/components/TeacherManagement.vue';
> ``````
>
> ### 在页面中使用组件
>
> ``````java
> <TeacherManagement />
> ``````
>
> ### 配置API接口
>
> 确保/api/thing、/api/classification、/api/tag等接口正常工作。
>
> ### 配置基础URL
>
> 在/store/constants中配置BASE_URL（注意端口号）。

## 注意事项

> - **确保API接口返回的数据格式与组件中的预期一致。**
> - **组件使用了ant-design-vue的a-table、a-modal、a-form等组件，需要确保项目中安装了ant-design-vue。**

## 总结

​	该组件实现了家教管理的主要功能，包括新增、编辑、删除和搜索家教信息。通过直观的界面和便捷的操作方式，管理员可以轻松管理家教信息，提升工作效率。该组件的设计和实现充分考虑了用户体验，使用现代化的前端技术栈，确保系统的可维护性和可扩展性。开发者可以根据具体需求对组件进行定制和扩展，满足不同场景下的教师管理需求。





